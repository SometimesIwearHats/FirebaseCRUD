@{
    Layout = "_Layout";
}

<h2>Create New Car</h2>

<form id="carForm">
    <div>
        <label for="Make">Make</label>
        <input type="text" id="Make" name="Make" required />
    </div>
    <div>
        <label for="Model">Model</label>
        <input type="text" id="Model" name="Model" required />
    </div>
    <div>
        <label for="Year">Year</label>
        <input type="number" id="Year" name="Year" required />
    </div>
    <button type="submit">Create</button>
</form>

<script>
    document.getElementById("carForm").addEventListener("submit", function (e) {
        e.preventDefault();
        const make = document.getElementById("Make").value;
        const model = document.getElementById("Model").value;
        const year = document.getElementById("Year").value;

        addCar(make, model, year).then(() => {
            alert("Car added successfully!");
            window.location.href = "/Cars/Index";  // Redirect to the car list after successful submission
        }).catch((error) => {
            console.error("Error adding car:", error);
        });
    });
</script>
